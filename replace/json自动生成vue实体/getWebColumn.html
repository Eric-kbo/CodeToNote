<body>
    <div style="float: left; width: 100%;">
        <div style="width: 45%;height: 100%; float: left; display: inline;">
            <textarea style="width: 100%; height: 100%;" id="start">
                mati_code:物料类别
purpose:用途
memo:采购说明
amount:采购金额
segment8:税率
dept_name:所属部门
cost_center_name:成本中心
segment5:产品
segment3:核算科目
segment9:资产属性
auth_begin_date:授权起始日期
auth_months:会计授权期限(月)
memo:备注
            </textarea>
        </div>
        <div style="width: 10%;height: 100%;float: left; display: inline;text-align: center;">
            <button style="padding-top: 50%;" onclick="d()">转换</button>
        </div>
        <div style="width: 45%;height: 100%;float: left; display: inline;">
            <textarea style="width: 100%; height: 100%;" id="end"></textarea>
        </div>
    </div>
</body>

<script>
    function _typeof(obj) {
        var s = Object.prototype.toString.call(obj);
        return s.match(/\[object (.*?)\]/)[1].toLowerCase();
    };
    function d() {
        var str = document.getElementById('start').value
        var list = str.trim().split('\n')
        var r = []
        list.forEach(item => {
            var col = '';
            var k = item.trim().split(':')
            if (item) {
                col = `
                    {
                    title: '`+ k[1] + `',
                    dataIndex:'`+ k[0] + `',
                    key:'`+ k[0] + `',
                    align: 'center',
                    ellipsis: true,
                    className: 'column-bold',
                }
                `
            }
            r.push(col)
        });

        document.getElementById('end').value = '[' + r.join(',') + ']'
    }
</script>